# Проект: 
- Для разработки проекта использовалась версия Node.js 20.12.2, npm 10.6.0 и платформа Windows 11 
- Для установки необходимых пакетов необходимо выполнить команду `npm install`
- Для запуска базы данных и redis необходимо выполнить команду `docker-compose -f docker/infra.yml up -d`
- Проект использует Google OAuth 2.0 в качестве авторизации. Для работы авторизации необходимо добавить в переменные окружения в .env файл
следующие данные: client_id в GOOGLE_CLIENT_ID и client_secret в GOOGLE_CLIENT_SECRET, настраиваемые [здесь](https://console.cloud.google.com/apis/credentials). 
При настройке необходимо убедиться, что `Authorized JavaScript origins` в google соответствует адресу, по которому запускается проект (например http://localhost:3000)
и `Authorized redirect URIs` соответствует значению, указанному в переменной окружения GOOGLE_CALLBACK_URL
- Для применения структуры базы данных необходимо выполнить миграции. Миграции представляют собой функциональность:
  - 1. Для авто-генерации миграций необходимо выполнить команду `npm run typeorm:generate-migration`.
  - 2. Для ручного добавления миграции выполняется команда `npm run typeorm:create-migration`. 
  - 3. Для выполнения миграции необходимо выполнить команду `npm run typeorm:run-migrations`
  - 4. Для отката изменений по миграции необходимо выполнить команду `npm run typeorm:revert-migration`
  - 5. Дополнительно: для удаления файлов миграции можно выполнить команду `npm run typeorm:delete-migrations`

  Для первоначальной настройки достаточно выполнения команд из пунктов `a` и `c`
- Для запуска проекта необходимо выполнить одну из следующих команд (в зависимости от потребностей): 
`npm run start`, `npm run start:dev`, `npm run start:debug` или `npm run start:prod`
- Тесты (исходя из ТЗ) написаны только для модуля Статей. Для запуска теста необходимо выполнить команду `npm run test`
- Проект содержит Swagger документацию, доступную по пути `/api`.
- Для авторизации необходимо выполнить (если в браузере, то в отдельной вкладке, в Swagger пути указаны для ознакомления) GET запрос по пути
`/google-oauth`, в результате выполнения которого будет открыта форма авторизации в google. По окончании авторизации в cookie появится токен в access_token.
- Авторизация поддерживает два способа отправки jwt: в cookie в access_token и в header в конструкции `Bearer <token>`. Для авторизации через Bearer в Swagger представлена форма в правом верхнем углу для вставки jwt токена.
- Для путей `/user/*`, `/users`, `/article/*`, `/articles` и `/` представлена документация Swagger с примерами запросов и ответов. Кроме того использована валидация запросов и сериализация ответов.
Для сериализации ответов используется мой собственный npm-пакет `@qdea/swagger-serializer`, содержащий `ResponseSerializerInterceptor` для сериализации запросов с использованием `class-transformer`
и `@Endpoint` декоратор для удобного использования декораторов из `@nestjs/swagger` и обеспечения взаимодействия структур запросов и ответов.
- Для пользователей и статей организовано кеширование.